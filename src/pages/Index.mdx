import { PageLayout } from '../components/PageLayout';
import { Carousel } from '../components/Carousel';

export default function IndexPage() {
    return <PageLayout title="DyGram | Thought → System">
        <IndexContent />
    </PageLayout>;
}

export function IndexContent() {
    return (
        <>
            <header>
                <div className="container">
                    <div className="tagline">
                        A lean, executable DSL for rapid prototyping that evolves from unstructured sketches to complete systems through iterative execution and generative prompting.
                    </div>
                    <a href="#evolution" className="btn">EXPLORE →</a>
                </div>
            </header>

            <section id="about">
                <div className="container">
                    <h2 className="section-title">RAPID PROTOTYPING</h2>
                    <p style={{fontSize: '1.5rem', maxWidth: '800px'}}>
                        DyGram starts broad and unstructured but is immediately executable, evolving toward more structured and complex systems through feedback and iteration.
                    </p>

                    <div className="feature-grid">
                        <div className="feature">
                            <h3 className="feature-title">LEAN CORE DSL</h3>
                            <p>Begin with a minimal, intuitive language that captures domain concepts without unnecessary complexity.</p>
                        </div>
                        <div className="feature">
                            <h3 className="feature-title">ITERATIVE EVOLUTION</h3>
                            <p>Refine your model through execution, generative prompting, and continuous feedback loops.</p>
                        </div>
                        <div className="feature">
                            <h3 className="feature-title">STRUCTURED EMERGENCE</h3>
                            <p>Watch your system naturally evolve from explorative sketches to structured implementations as requirements clarify.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="evolution" className="dark">
                <div className="container">
                    <h2 className="section-title">EVOLUTION IN ACTION</h2>

                    <div className="evolution">
                        <div className="stage">
                            <div className="stage-header">
                                <div className="stage-number">01</div>
                                <h3 className="stage-title">INITIAL EXPLORATION</h3>
                            </div>
                            <div className="stage-content">
                                <p>Start with an immediately executable, unstructured representation of your domain.</p>

                                <Carousel slides={[
                                    {
                                        id: 'example-001',
                                        code: `machine "Solution Sketch"

problem;
solution;

problem -> solution;`
                                    },
                                    {
                                        id: 'example-002',
                                        code: `machine "Solution Sketch"

Input problem {
    query<string>: "TBD";
};

Task process {
    prompt: "Given the problem statement {{ problem.query }} identify a plan to achieve a solution.";
}

Result solution {
    value: "TBD";
};

problem -necessitates-> solution;`
                                    },
                                    {
                                        id: 'example-003',
                                        code: `machine "Data Pipeline"

Concept source;
Concept processor;
Concept destination;

source -> processor -> destination;`
                                    }
                                ]} />
                            </div>
                        </div>

                        <div className="stage">
                            <div className="stage-header">
                                <div className="stage-number">02</div>
                                <h3 className="stage-title">ITERATIVE REFINEMENT</h3>
                            </div>
                            <div className="stage-content">
                                <p>Through execution and feedback, add context and structure to your prototype.</p>

                                <Carousel slides={[
                                    {
                                        id: 'example-004',
                                        code: `machine "Solution Framework"

Concept problem "User Authentication" {
    domain: "Security";
    priority<Integer>: 9;
    constraints: ["GDPR Compliance", "Low Latency"];
};

Concept solution "Token-based Auth" {
    status: "Prototyping";
    approach: "JWT Implementation";
    metrics: ["Security", "Performance", "UX"];
};

problem -addresses-> solution;`
                                    },
                                    {
                                        id: 'example-005',
                                        code: `machine "Solution Framework"

Concept problem "User Authentication" {
    domain: "Security";
    priority<Integer>: 9;
    constraints: ["GDPR Compliance", "Low Latency"];
    stakeholders: ["Security Team", "UX Team"];
};

Concept solution "Token-based Auth" {
    status: "In Progress";
    approach: "JWT Implementation";
    metrics: ["Security", "Performance", "UX"];
    components: ["JWT Generator", "Token Validator"];
};

problem -addresses, confidence: 0.8-> solution;`
                                    },
                                    {
                                        id: 'example-006',
                                        code: `machine "Solution Framework"

Concept problem "User Authentication" {
    domain: "Security";
    priority<Integer>: 9;
    constraints: ["GDPR Compliance", "Low Latency"];
    stakeholders: ["Security Team", "UX Team"];
    risks: ["Token Theft", "Session Hijacking"];
};

Concept solution "Token-based Auth" {
    status: "Testing";
    approach: "JWT Implementation";
    metrics: ["Security", "Performance", "UX"];
    components: ["JWT Generator", "Token Validator", "Refresh Logic"];
    tests: ["Penetration Testing", "Load Testing"];
};

Resource documentation "Auth Flow Diagram" {
    url: "https://repo.example.com/auth-flow.pdf";
    access: "Internal";
};

problem -addresses, confidence: 0.9-> solution;
solution -documented_by-> documentation;`
                                    }
                                ]} />
                            </div>
                        </div>

                        <div className="stage">
                            <div className="stage-header">
                                <div className="stage-number">03</div>
                                <h3 className="stage-title">STRUCTURED SYSTEM</h3>
                            </div>
                            <div className="stage-content">
                                <p>Evolve into a comprehensive executable model that bridges conceptual and technical domains.</p>

                                <Carousel slides={[
                                    {
                                        id: 'example-007',
                                        code: `machine "Knowledge Management System"

Concept idea "Neural Interface" {
    creator: "Research Team";
    created<Date>: "2025-01-15";
    priority<Integer>: 8;
    domain: "Neuroscience";
    description: "Direct neural interface for thought-to-text";
    tags: ["neural", "interface", "breakthrough"];
};

Implementation implementation "Neural Interface Prototype" {
    status: "In Progress";
    owner: "Engineering";
    deadline<Date>: "2025-03-30";
    repository: "github.com/org/neural-interface";
    version<SemanticVersion>: "0.1.0";
    dependencies: ["tensorflow", "brain-compute-sdk"];
};

Resource resource1 "Research Paper" {
    url: "https://example.com/papers/neural-interfaces-2024";
    format: "PDF";
    access<AccessLevel>: "Confidential";
};

idea -inspires, confidence: 0.85-> implementation;
idea -documented_in-> resource1;
implementation -references-> resource1;`
                                    },
                                    {
                                        id: 'example-008',
                                        code: `machine "Project Management System"

Team team "Development Squad" {
    lead: "Jane Smith";
    members: ["Alice", "Bob", "Charlie"];
    skills: ["Frontend", "Backend", "DevOps"];
};

Feature feature "User Dashboard" {
    priority<Integer>: 8;
    epic: "User Experience";
    status: "In Progress";
    description: "Interactive dashboard showing user activity";
    acceptance_criteria: [
        "Shows activity graph for last 30 days",
        "Allows filtering by activity type",
        "Exports data in CSV format"
    ];
};

Task task1 "Design Dashboard UI" {
    assignee: "Alice";
    estimated_hours<Float>: 8.5;
    status: "Completed";
};

Task task2 "Implement API" {
    assignee: "Bob";
    estimated_hours<Float>: 16.0;
    status: "In Progress";
    dependencies: ["Database Schema Update"];
};

feature -broken_down_into-> task1;
feature -broken_down_into-> task2;
team -responsible_for-> feature;
//team.members[0] -assigned_to-> task1;`
                                    },
                                    {
                                        id: 'example-009',
                                        code: `machine "Supply Chain System"

Entity supplier "Global Electronics Inc" {
    id<UUID>: "a1b2c3d4-e5f6-7890-abcd-ef1234567890";
    location: "Shanghai, China";
    reliability<Float>: 0.92;
    lead_time_days<Integer>: 14;
    certification: ["ISO9001", "ISO14001"];
};

Entity component "CPU-X5000" {
    sku: "CP-X5000-01";
    category: "Processor";
    unit_cost<Currency>: "USD 120.50";
    stock<Integer>: 250;
    reorder_point<Integer>: 100;
};

Process ordering "Procurement Process" {
    trigger: "Stock below reorder point";
    steps: [
        "Generate purchase request",
        "Approve purchase order",
        "Send to supplier",
        "Confirm receipt",
        "Update inventory"
    ];
    avg_cycle_time_days<Float>: 18.5;
    owner: "Procurement Team";
};

supplier -provides-> component;
component -used_in-> ordering;
ordering -involves-> supplier;`
                                    }
                                ]} />
                            </div>
                        </div>
                    </div>

                    <div className="diagram">
                        {/* TODO */}
                    </div>
                </div>
            </section>

            <section className="cta">
                <div className="container">
                    <h2>EXPLORATION → IMPLEMENTATION</h2>
                    <a href="playground-mobile.html" className="btn">MOBILE PLAYGROUND →</a>
                    <a href="playground.html" className="btn btn-secondary" style={{marginLeft: '12px', background: '#3e3e42'}}>MONACO PLAYGROUND →</a>
                </div>
            </section>

            <footer>
                <div className="container">
                    <div className="footer-grid">
                        <div className="footer-links">
                            <h3>DOCUMENTATION</h3>
                            <ul>
                                <li><a href="quick-start.html">Quick Start</a></li>
                                <li><a href="grammar-reference.html">Grammar Reference</a></li>
                                <li><a href="examples.html">Examples</a></li>
                                <li><a href="integration.html">Integration</a></li>
                            </ul>
                        </div>
                        <div className="footer-links">
                            <h3>RESOURCES</h3>
                            <ul>
                                <li><a href="https://github.com/christopherdebeer/machine" target="_blank">GitHub</a></li>
                                <li><a href="vscode-extension.html">VS Code Extension</a></li>
                                <li><a href="evolution.html">Evolution System</a></li>
                                <li><a href="api.html">API</a></li>
                                <li><a href="libraries.html">Libraries</a></li>
                            </ul>
                        </div>
                        <div className="footer-links">
                            <h3>COMMUNITY</h3>
                            <ul>
                                <li><a href="#">Discord</a></li>
                                <li><a href="#">Twitter</a></li>
                                <li><a href="blog.html">Blog</a></li>
                                <li><a href="events.html">Events</a></li>
                            </ul>
                        </div>
                    </div>
                    <div className="copyright">
                        &copy; 2025 DyGram. All rights reserved.
                    </div>
                </div>
            </footer>
        </>
    );
}
