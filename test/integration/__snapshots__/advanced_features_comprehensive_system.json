{
  "json": {
    "title": "Comprehensive System",
    "attributes": [],
    "annotations": [
      {
        "name": "Version"
      },
      {
        "name": "StrictMode"
      }
    ],
    "nodes": [
      {
        "name": "globalConfig",
        "type": "context",
        "attributes": [
          {
            "name": "environment",
            "value": "production"
          },
          {
            "name": "region",
            "value": "us-west-2"
          },
          {
            "name": "timeout",
            "type": "number",
            "value": 30000
          }
        ],
        "$sourceRange": {
          "start": {
            "line": 3,
            "character": 0
          },
          "end": {
            "line": 7,
            "character": 2
          }
        }
      },
      {
        "name": "ingestion",
        "type": "process",
        "attributes": [],
        "$sourceRange": {
          "start": {
            "line": 9,
            "character": 0
          },
          "end": {
            "line": 25,
            "character": 2
          }
        }
      },
      {
        "name": "source",
        "type": "input",
        "attributes": [
          {
            "name": "type",
            "value": "stream"
          },
          {
            "name": "format",
            "value": "json"
          }
        ],
        "parent": "ingestion",
        "title": "Data Source",
        "$sourceRange": {
          "start": {
            "line": 10,
            "character": 4
          },
          "end": {
            "line": 13,
            "character": 6
          }
        }
      },
      {
        "name": "validate",
        "type": "task",
        "attributes": [
          {
            "name": "schema",
            "value": "#validationSchema"
          },
          {
            "name": "strict",
            "type": "boolean",
            "value": true
          }
        ],
        "parent": "ingestion",
        "annotations": [
          {
            "name": "Critical"
          }
        ],
        "title": "Validate Data",
        "$sourceRange": {
          "start": {
            "line": 15,
            "character": 4
          },
          "end": {
            "line": 18,
            "character": 6
          }
        }
      },
      {
        "name": "transform",
        "type": "task",
        "attributes": [
          {
            "name": "operations",
            "value": [
              "normalize",
              "enrich"
            ]
          }
        ],
        "parent": "ingestion",
        "title": "Transform Data",
        "$sourceRange": {
          "start": {
            "line": 20,
            "character": 4
          },
          "end": {
            "line": 22,
            "character": 6
          }
        }
      },
      {
        "name": "processing",
        "type": "process",
        "attributes": [],
        "$sourceRange": {
          "start": {
            "line": 27,
            "character": 0
          },
          "end": {
            "line": 42,
            "character": 2
          }
        }
      },
      {
        "name": "analyze",
        "type": "task",
        "attributes": [
          {
            "name": "model",
            "value": "claude-3-5-sonnet-20241022"
          },
          {
            "name": "prompt",
            "value": "Analyze: {{ ingestion.transform.output }}"
          }
        ],
        "parent": "processing",
        "annotations": [
          {
            "name": "Async"
          }
        ],
        "title": "Analyze",
        "$sourceRange": {
          "start": {
            "line": 28,
            "character": 4
          },
          "end": {
            "line": 31,
            "character": 6
          }
        }
      },
      {
        "name": "classify",
        "type": "task",
        "attributes": [
          {
            "name": "model",
            "value": "claude-3-5-sonnet-20241022"
          },
          {
            "name": "categories",
            "value": "#categoryList"
          }
        ],
        "parent": "processing",
        "annotations": [
          {
            "name": "Async"
          }
        ],
        "title": "Classify",
        "$sourceRange": {
          "start": {
            "line": 33,
            "character": 4
          },
          "end": {
            "line": 36,
            "character": 6
          }
        }
      },
      {
        "name": "aggregate",
        "type": "task",
        "attributes": [],
        "parent": "processing",
        "title": "Aggregate Results",
        "$sourceRange": {
          "start": {
            "line": 38,
            "character": 4
          },
          "end": {
            "line": 38,
            "character": 39
          }
        }
      },
      {
        "name": "storage",
        "type": "process",
        "attributes": [],
        "$sourceRange": {
          "start": {
            "line": 44,
            "character": 0
          },
          "end": {
            "line": 55,
            "character": 2
          }
        }
      },
      {
        "name": "database",
        "type": "resource",
        "attributes": [
          {
            "name": "connection",
            "value": "#dbConfig"
          },
          {
            "name": "pool",
            "type": "number",
            "value": 10
          }
        ],
        "parent": "storage",
        "title": "Database",
        "$sourceRange": {
          "start": {
            "line": 45,
            "character": 4
          },
          "end": {
            "line": 48,
            "character": 6
          }
        }
      },
      {
        "name": "store",
        "type": "task",
        "attributes": [
          {
            "name": "destination",
            "value": "{{ globalConfig.environment }}.results"
          }
        ],
        "parent": "storage",
        "title": "Store Results",
        "$sourceRange": {
          "start": {
            "line": 50,
            "character": 4
          },
          "end": {
            "line": 52,
            "character": 6
          }
        }
      },
      {
        "name": "processing",
        "type": "note",
        "attributes": [
          {
            "name": "throughput",
            "value": "1000 req/sec"
          },
          {
            "name": "latency",
            "value": "< 100ms"
          },
          {
            "name": "target",
            "value": "processing"
          }
        ],
        "annotations": [
          {
            "name": "Documentation"
          }
        ],
        "title": "Main processing pipeline",
        "$sourceRange": {
          "start": {
            "line": 63,
            "character": 0
          },
          "end": {
            "line": 66,
            "character": 2
          }
        }
      }
    ],
    "edges": [
      {
        "source": "transform",
        "target": "analyze",
        "arrowType": "=>",
        "$sourceRange": {
          "start": {
            "line": 58,
            "character": 20
          },
          "end": {
            "line": 58,
            "character": 41
          }
        }
      },
      {
        "source": "transform",
        "target": "classify",
        "arrowType": "=>",
        "$sourceRange": {
          "start": {
            "line": 59,
            "character": 20
          },
          "end": {
            "line": 59,
            "character": 42
          }
        }
      },
      {
        "source": "aggregate",
        "target": "store",
        "arrowType": "->",
        "$sourceRange": {
          "start": {
            "line": 60,
            "character": 21
          },
          "end": {
            "line": 60,
            "character": 37
          }
        }
      },
      {
        "source": "source",
        "target": "validate",
        "arrowType": "->",
        "$sourceRange": {
          "start": {
            "line": 24,
            "character": 11
          },
          "end": {
            "line": 24,
            "character": 22
          }
        }
      },
      {
        "source": "validate",
        "target": "transform",
        "arrowType": "->",
        "$sourceRange": {
          "start": {
            "line": 24,
            "character": 23
          },
          "end": {
            "line": 24,
            "character": 35
          }
        }
      },
      {
        "source": "analyze",
        "target": "aggregate",
        "arrowType": "->",
        "$sourceRange": {
          "start": {
            "line": 40,
            "character": 12
          },
          "end": {
            "line": 40,
            "character": 24
          }
        }
      },
      {
        "source": "classify",
        "target": "aggregate",
        "arrowType": "->",
        "$sourceRange": {
          "start": {
            "line": 41,
            "character": 13
          },
          "end": {
            "line": 41,
            "character": 25
          }
        }
      },
      {
        "source": "database",
        "target": "store",
        "arrowType": "*-->",
        "$sourceRange": {
          "start": {
            "line": 54,
            "character": 13
          },
          "end": {
            "line": 54,
            "character": 23
          }
        }
      }
    ],
    "inferredDependencies": [
      {
        "source": "analyze",
        "target": "ingestion",
        "reason": "reads ingestion.transform.output",
        "path": "ingestion.transform.output"
      },
      {
        "source": "store",
        "target": "globalConfig",
        "reason": "reads globalConfig.environment",
        "path": "globalConfig.environment"
      }
    ]
  },
  "graphviz": "digraph {\n  // Graph attributes\n  label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"center\"><font point-size=\"12\"><b>Comprehensive System</b></font></td></tr><tr><td align=\"center\"><font point-size=\"10\">@Version @StrictMode</font></td></tr></table>>;\n  labelloc=\"t\";\n  fontsize=10;\n  fontname=\"Arial\";\n  compound=true;\n  rankdir=TB;\n  pad=0.25;\n  node [fontname=\"Arial\", fontsize=10];\n  edge [fontname=\"Arial\", fontsize=9];\n\n  // Node definitions with nested namespaces\n  \"globalConfig\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>globalConfig</b> <i>&lt;context&gt;</i></td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"environment__key\" align=\"left\" balign=\"left\">environment</td><td port=\"environment__value\" align=\"left\" balign=\"left\">production</td></tr><tr><td port=\"region__key\" align=\"left\" balign=\"left\">region</td><td port=\"region__value\" align=\"left\" balign=\"left\">us-west-2</td></tr><tr><td port=\"timeout__key\" align=\"left\" balign=\"left\">timeout : number</td><td port=\"timeout__value\" align=\"left\" balign=\"left\">30000</td></tr></table></td></tr></table>>, pad=0.5, shape=folder, fillcolor=\"#E8F5E9\", style=filled, color=\"#388E3C\", URL=\"#L3:0-7:2\"];\n  subgraph cluster_ingestion {\n    label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"2\"><tr><td align=\"center\"><b>ingestion</b> <i>&lt;process&gt;</i></td></tr></table>>;\n    labelloc=\"t\";\n    style=filled;\n    fontsize=10;\n    fillcolor=\"#FFFFFF\";\n    color=\"#999999\";\n    \"ingestion__cluster_anchor\" [shape=point, width=0.01, height=0.01, label=\"\", style=invis, fixedsize=true];\n\n    \"source\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>source</b> <i>&lt;input&gt;</i></td></tr><tr><td align=\"left\">Data Source</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"type__key\" align=\"left\" balign=\"left\">type</td><td port=\"type__value\" align=\"left\" balign=\"left\">stream</td></tr><tr><td port=\"format__key\" align=\"left\" balign=\"left\">format</td><td port=\"format__value\" align=\"left\" balign=\"left\">json</td></tr></table></td></tr></table>>, pad=0.5, shape=folder, fillcolor=\"#E8F5E9\", style=filled, color=\"#388E3C\", URL=\"#L10:4-13:6\"];\n    \"validate\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>validate</b> <i>&lt;task&gt;</i> <i>@Critical</i></td></tr><tr><td align=\"left\">Validate Data</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"schema__key\" align=\"left\" balign=\"left\">schema</td><td port=\"schema__value\" align=\"left\" balign=\"left\">#validationSchema</td></tr><tr><td port=\"strict__key\" align=\"left\" balign=\"left\">strict : boolean</td><td port=\"strict__value\" align=\"left\" balign=\"left\">true</td></tr></table></td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\", penwidth=3, URL=\"#L15:4-18:6\"];\n    \"transform\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>transform</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Transform Data</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"operations__key\" align=\"left\" balign=\"left\">operations</td><td port=\"operations__value\" align=\"left\" balign=\"left\">[<br/>  &quot;normalize&quot;,<br/>  &quot;enrich&quot;<br/>]</td></tr></table></td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\", URL=\"#L20:4-22:6\"];\n  }\n  subgraph cluster_processing {\n    label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"2\"><tr><td align=\"center\"><b>processing</b> <i>&lt;process&gt;</i></td></tr></table>>;\n    labelloc=\"t\";\n    style=filled;\n    fontsize=10;\n    fillcolor=\"#FFFFFF\";\n    color=\"#999999\";\n    \"processing__cluster_anchor\" [shape=point, width=0.01, height=0.01, label=\"\", style=invis, fixedsize=true];\n\n    \"analyze\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>analyze</b> <i>&lt;task&gt;</i> <i>@Async</i></td></tr><tr><td align=\"left\">Analyze</td></tr><tr><td align=\"left\"><font point-size=\"8\" color=\"#666666\">â†’ Analyze: {{ ingestion.transform.output }}</font></td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"model__key\" align=\"left\" balign=\"left\">model</td><td port=\"model__value\" align=\"left\" balign=\"left\">claude-3-5-sonnet-20241022</td></tr></table></td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\", URL=\"#L28:4-31:6\"];\n    \"classify\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>classify</b> <i>&lt;task&gt;</i> <i>@Async</i></td></tr><tr><td align=\"left\">Classify</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"model__key\" align=\"left\" balign=\"left\">model</td><td port=\"model__value\" align=\"left\" balign=\"left\">claude-3-5-sonnet-20241022</td></tr><tr><td port=\"categories__key\" align=\"left\" balign=\"left\">categories</td><td port=\"categories__value\" align=\"left\" balign=\"left\">#categoryList</td></tr></table></td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\", URL=\"#L33:4-36:6\"];\n    \"aggregate\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>aggregate</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Aggregate Results</td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\", URL=\"#L38:4-38:39\"];\n  }\n  subgraph cluster_storage {\n    label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"2\"><tr><td align=\"center\"><b>storage</b> <i>&lt;process&gt;</i></td></tr></table>>;\n    labelloc=\"t\";\n    style=filled;\n    fontsize=10;\n    fillcolor=\"#FFFFFF\";\n    color=\"#999999\";\n    \"storage__cluster_anchor\" [shape=point, width=0.01, height=0.01, label=\"\", style=invis, fixedsize=true];\n\n    \"database\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>database</b> <i>&lt;resource&gt;</i></td></tr><tr><td align=\"left\">Database</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"connection__key\" align=\"left\" balign=\"left\">connection</td><td port=\"connection__value\" align=\"left\" balign=\"left\">#dbConfig</td></tr><tr><td port=\"pool__key\" align=\"left\" balign=\"left\">pool : number</td><td port=\"pool__value\" align=\"left\" balign=\"left\">10</td></tr></table></td></tr></table>>, pad=0.5, shape=folder, fillcolor=\"#E8F5E9\", style=filled, color=\"#388E3C\", URL=\"#L45:4-48:6\"];\n    \"store\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>store</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Store Results</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"destination__key\" align=\"left\" balign=\"left\">destination</td><td port=\"destination__value\" align=\"left\" balign=\"left\">{{ globalConfig.environment<BR/>}}.results</td></tr></table></td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\", URL=\"#L50:4-52:6\"];\n  }\n\n  // Root-level notes\n  \"note_processing_0\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><i>@Documentation</i></td></tr><tr><td align=\"left\">Main processing pipeline</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"throughput__key\" align=\"left\" balign=\"left\">throughput</td><td port=\"throughput__value\" align=\"left\" balign=\"left\">1000 req/sec</td></tr><tr><td port=\"latency__key\" align=\"left\" balign=\"left\">latency</td><td port=\"latency__value\" align=\"left\" balign=\"left\">&lt; 100ms</td></tr></table></td></tr></table>>, shape=note, fillcolor=\"#FFFACD\", style=filled, fontsize=9];\n  \"note_processing_0\" -> \"processing__cluster_anchor\" [style=dashed, color=\"#999999\", arrowhead=none];\n\n  // Edges\n  \"transform\" -> \"analyze\" [penwidth=3, color=\"#D32F2F\", labelOverlay=\"75%\", edgeURL=\"#L58:20-58:41\"];\n  \"transform\" -> \"classify\" [penwidth=3, color=\"#D32F2F\", labelOverlay=\"75%\", edgeURL=\"#L59:20-59:42\"];\n  \"aggregate\" -> \"store\" [labelOverlay=\"75%\", edgeURL=\"#L60:21-60:37\"];\n  \"source\" -> \"validate\" [labelOverlay=\"75%\", edgeURL=\"#L24:11-24:22\"];\n  \"validate\" -> \"transform\" [labelOverlay=\"75%\", edgeURL=\"#L24:23-24:35\"];\n  \"analyze\" -> \"aggregate\" [labelOverlay=\"75%\", edgeURL=\"#L40:12-40:24\"];\n  \"classify\" -> \"aggregate\" [labelOverlay=\"75%\", edgeURL=\"#L41:13-41:25\"];\n  \"database\" -> \"store\" [arrowhead=diamond, arrowtail=diamond, dir=forward, labelOverlay=\"75%\", edgeURL=\"#L54:13-54:23\"];\n\n  // Inferred Dependencies\n  \"analyze\" -> \"ingestion\" [label=\"reads ingestion.transform.output\", style=dashed, color=blue];\n  \"store\" -> \"globalConfig\" [label=\"reads globalConfig.environment\", style=dashed, color=blue];\n}",
  "svgHash": "df7c1c6ec6a41bf1d54d2875bf1b167fb50ec66503881dab08d7469f8e03cad2"
}