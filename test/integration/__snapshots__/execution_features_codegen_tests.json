{
  "json": {
    "title": "Test Suite Generator",
    "attributes": [
      {
        "name": "logLevel",
        "value": "debug"
      },
      {
        "name": "maxSteps",
        "value": 25
      }
    ],
    "annotations": [],
    "nodes": [
      {
        "name": "TargetFunction",
        "type": "context",
        "attributes": [
          {
            "name": "name",
            "value": "calculateDiscount"
          },
          {
            "name": "signature",
            "value": "(price: number, discountPercent: number) => number"
          },
          {
            "name": "description",
            "value": "Calculates discounted price given original price and discount percentage"
          }
        ],
        "$sourceRange": {
          "start": {
            "line": 6,
            "character": 0
          },
          "end": {
            "line": 10,
            "character": 1
          }
        }
      },
      {
        "name": "TestSuite",
        "type": "context",
        "attributes": [
          {
            "name": "framework",
            "value": "vitest"
          },
          {
            "name": "testCases",
            "value": []
          },
          {
            "name": "code",
            "value": ""
          }
        ],
        "$sourceRange": {
          "start": {
            "line": 12,
            "character": 0
          },
          "end": {
            "line": 16,
            "character": 1
          }
        }
      },
      {
        "name": "start",
        "attributes": [
          {
            "name": "prompt",
            "value": "Review TargetFunction context. This is the function we're generating tests for: {{ TargetFunction.name }} with signature {{ TargetFunction.signature }}."
          }
        ],
        "title": "Define function to test",
        "$sourceRange": {
          "start": {
            "line": 18,
            "character": 0
          },
          "end": {
            "line": 20,
            "character": 1
          }
        }
      },
      {
        "name": "identifyTestCases",
        "type": "task",
        "attributes": [
          {
            "name": "prompt",
            "value": "For function {{ TargetFunction.name }}, identify comprehensive test cases covering: 1) Normal cases, 2) Edge cases (0, negative, 100%), 3) Invalid inputs. Store as array of objects in TestSuite.testCases with structure: {description, input, expected}."
          }
        ],
        "title": "Identify test scenarios",
        "$sourceRange": {
          "start": {
            "line": 22,
            "character": 0
          },
          "end": {
            "line": 24,
            "character": 1
          }
        }
      },
      {
        "name": "generateTests",
        "type": "task",
        "attributes": [
          {
            "name": "prompt",
            "value": "Using {{ TestSuite.framework }}, generate a complete test suite for {{ TargetFunction.name }} covering all cases in TestSuite.testCases. Include proper imports, describe blocks, and assertions. Store in TestSuite.code."
          }
        ],
        "title": "Generate test code",
        "$sourceRange": {
          "start": {
            "line": 26,
            "character": 0
          },
          "end": {
            "line": 28,
            "character": 1
          }
        }
      },
      {
        "name": "reviewCoverage",
        "type": "task",
        "attributes": [
          {
            "name": "prompt",
            "value": "Analyze TestSuite.testCases and TestSuite.code. Calculate coverage percentage for: 1) Normal paths, 2) Edge cases, 3) Error paths. List any missing scenarios."
          }
        ],
        "title": "Review test coverage",
        "$sourceRange": {
          "start": {
            "line": 30,
            "character": 0
          },
          "end": {
            "line": 32,
            "character": 1
          }
        }
      },
      {
        "name": "end",
        "attributes": [],
        "title": "Test suite ready",
        "$sourceRange": {
          "start": {
            "line": 34,
            "character": 0
          },
          "end": {
            "line": 34,
            "character": 22
          }
        }
      }
    ],
    "edges": [
      {
        "source": "start",
        "target": "identifyTestCases",
        "arrowType": "->",
        "$sourceRange": {
          "start": {
            "line": 36,
            "character": 6
          },
          "end": {
            "line": 36,
            "character": 26
          }
        }
      },
      {
        "source": "identifyTestCases",
        "target": "generateTests",
        "arrowType": "->",
        "$sourceRange": {
          "start": {
            "line": 36,
            "character": 27
          },
          "end": {
            "line": 36,
            "character": 43
          }
        }
      },
      {
        "source": "generateTests",
        "target": "reviewCoverage",
        "arrowType": "->",
        "$sourceRange": {
          "start": {
            "line": 36,
            "character": 44
          },
          "end": {
            "line": 36,
            "character": 61
          }
        }
      },
      {
        "source": "reviewCoverage",
        "target": "end",
        "arrowType": "->",
        "$sourceRange": {
          "start": {
            "line": 36,
            "character": 62
          },
          "end": {
            "line": 36,
            "character": 68
          }
        }
      }
    ],
    "inferredDependencies": [
      {
        "source": "start",
        "target": "TargetFunction",
        "reason": "reads TargetFunction.name",
        "path": "TargetFunction.name"
      },
      {
        "source": "start",
        "target": "TargetFunction",
        "reason": "reads TargetFunction.signature",
        "path": "TargetFunction.signature"
      },
      {
        "source": "identifyTestCases",
        "target": "TargetFunction",
        "reason": "reads TargetFunction.name",
        "path": "TargetFunction.name"
      },
      {
        "source": "generateTests",
        "target": "TestSuite",
        "reason": "reads TestSuite.framework",
        "path": "TestSuite.framework"
      },
      {
        "source": "generateTests",
        "target": "TargetFunction",
        "reason": "reads TargetFunction.name",
        "path": "TargetFunction.name"
      }
    ]
  },
  "graphviz": "digraph {\n  // Graph attributes\n  label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"center\"><font point-size=\"12\"><b>Test Suite Generator</b></font></td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"logLevel__key\" align=\"left\" balign=\"left\">logLevel</td><td port=\"logLevel__value\" align=\"left\" balign=\"left\">debug</td></tr><tr><td port=\"maxSteps__key\" align=\"left\" balign=\"left\">maxSteps</td><td port=\"maxSteps__value\" align=\"left\" balign=\"left\">25</td></tr></table></td></tr></table>>;\n  labelloc=\"t\";\n  fontsize=10;\n  fontname=\"Arial\";\n  compound=true;\n  rankdir=TB;\n  pad=0.25;\n  node [fontname=\"Arial\", fontsize=10];\n  edge [fontname=\"Arial\", fontsize=9];\n\n  // Node definitions with nested namespaces\n  \"TargetFunction\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>TargetFunction</b> <i>&lt;context&gt;</i></td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"name__key\" align=\"left\" balign=\"left\">name</td><td port=\"name__value\" align=\"left\" balign=\"left\">calculateDiscount</td></tr><tr><td port=\"signature__key\" align=\"left\" balign=\"left\">signature</td><td port=\"signature__value\" align=\"left\" balign=\"left\">(price: number,<BR/>discountPercent: number) =&gt;<BR/>number</td></tr><tr><td port=\"description__key\" align=\"left\" balign=\"left\">description</td><td port=\"description__value\" align=\"left\" balign=\"left\">Calculates discounted price<BR/>given original price and<BR/>discount percentage</td></tr></table></td></tr></table>>, pad=0.5, shape=folder, fillcolor=\"#E8F5E9\", style=filled, color=\"#388E3C\", URL=\"#L6:0-10:1\"];\n  \"TestSuite\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>TestSuite</b> <i>&lt;context&gt;</i></td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"framework__key\" align=\"left\" balign=\"left\">framework</td><td port=\"framework__value\" align=\"left\" balign=\"left\">vitest</td></tr><tr><td port=\"testCases__key\" align=\"left\" balign=\"left\">testCases</td><td port=\"testCases__value\" align=\"left\" balign=\"left\">[]</td></tr><tr><td port=\"code__key\" align=\"left\" balign=\"left\">code</td><td port=\"code__value\" align=\"left\" balign=\"left\"></td></tr></table></td></tr></table>>, pad=0.5, shape=folder, fillcolor=\"#E8F5E9\", style=filled, color=\"#388E3C\", URL=\"#L12:0-16:1\"];\n  \"start\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>start</b></td></tr><tr><td align=\"left\">Define function to test</td></tr><tr><td align=\"left\"><font point-size=\"8\" color=\"#666666\">→ Review TargetFunction context. This is the function we're generating tests for: calculateDiscount<br/>with signature (price: number, discountPercent: number) =&gt; number.</font></td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\", URL=\"#L18:0-20:1\"];\n  \"identifyTestCases\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>identifyTestCases</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Identify test scenarios</td></tr><tr><td align=\"left\"><font point-size=\"8\" color=\"#666666\">→ For function calculateDiscount, identify comprehensive test cases covering: 1) Normal cases, 2) Edge<br/>cases (0, negative, 100%), 3) Invalid inputs. Store as array of objects in TestSuite.testCases with<br/>structure: {description, input, expected}.</font></td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\", URL=\"#L22:0-24:1\"];\n  \"generateTests\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>generateTests</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Generate test code</td></tr><tr><td align=\"left\"><font point-size=\"8\" color=\"#666666\">→ Using vitest, generate a complete test suite for calculateDiscount covering all cases in<br/>TestSuite.testCases. Include proper imports, describe blocks, and assertions. Store in<br/>TestSuite.code.</font></td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\", URL=\"#L26:0-28:1\"];\n  \"reviewCoverage\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>reviewCoverage</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Review test coverage</td></tr><tr><td align=\"left\"><font point-size=\"8\" color=\"#666666\">→ Analyze TestSuite.testCases and TestSuite.code. Calculate coverage percentage for: 1) Normal paths,<br/>2) Edge cases, 3) Error paths. List any missing scenarios.</font></td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\", URL=\"#L30:0-32:1\"];\n  \"end\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>end</b></td></tr><tr><td align=\"left\">Test suite ready</td></tr></table>>, pad=0.5, shape=box, fillcolor=\"#FFFFFF\", style=filled, color=\"#000000\", URL=\"#L34:0-34:22\"];\n\n  // Edges\n  \"start\" -> \"identifyTestCases\" [labelOverlay=\"75%\", edgeURL=\"#L36:6-36:26\"];\n  \"identifyTestCases\" -> \"generateTests\" [labelOverlay=\"75%\", edgeURL=\"#L36:27-36:43\"];\n  \"generateTests\" -> \"reviewCoverage\" [labelOverlay=\"75%\", edgeURL=\"#L36:44-36:61\"];\n  \"reviewCoverage\" -> \"end\" [labelOverlay=\"75%\", edgeURL=\"#L36:62-36:68\"];\n\n  // Inferred Dependencies\n  \"start\" -> \"TargetFunction\" [label=\"reads TargetFunction.name\", style=dashed, color=blue];\n  \"start\" -> \"TargetFunction\" [label=\"reads TargetFunction.signature\", style=dashed, color=blue];\n  \"identifyTestCases\" -> \"TargetFunction\" [label=\"reads TargetFunction.name\", style=dashed, color=blue];\n  \"generateTests\" -> \"TestSuite\" [label=\"reads TestSuite.framework\", style=dashed, color=blue];\n  \"generateTests\" -> \"TargetFunction\" [label=\"reads TargetFunction.name\", style=dashed, color=blue];\n}",
  "svgHash": "9ee50f3fdcd9960d45721ce6c09dc8200254c7cc0ed3f30549bf0350d381e60f"
}