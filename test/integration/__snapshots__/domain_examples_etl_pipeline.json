{
  "json": {
    "title": "ETL Pipeline",
    "attributes": [],
    "nodes": [
      {
        "name": "config",
        "type": "context",
        "attributes": [
          {
            "name": "batchSize",
            "type": "number",
            "value": 1000
          },
          {
            "name": "parallelism",
            "type": "number",
            "value": 4
          }
        ]
      },
      {
        "name": "extraction",
        "type": "process",
        "attributes": []
      },
      {
        "name": "extractDB",
        "type": "task",
        "attributes": [
          {
            "name": "source",
            "value": "postgresql"
          },
          {
            "name": "query",
            "value": "#extractQuery"
          }
        ],
        "parent": "extraction",
        "annotations": [
          {
            "name": "Async"
          }
        ],
        "title": "Extract from Database"
      },
      {
        "name": "extractAPI",
        "type": "task",
        "attributes": [
          {
            "name": "source",
            "value": "rest-api"
          },
          {
            "name": "endpoint",
            "value": "https://api.example.com/data"
          }
        ],
        "parent": "extraction",
        "annotations": [
          {
            "name": "Async"
          }
        ],
        "title": "Extract from API"
      },
      {
        "name": "extractFiles",
        "type": "task",
        "attributes": [
          {
            "name": "source",
            "value": "s3"
          },
          {
            "name": "bucket",
            "value": "data-lake"
          },
          {
            "name": "pattern",
            "value": "*.json"
          }
        ],
        "parent": "extraction",
        "annotations": [
          {
            "name": "Async"
          }
        ],
        "title": "Extract from Files"
      },
      {
        "name": "mergeExtracts",
        "type": "task",
        "attributes": [],
        "parent": "extraction",
        "title": "Merge all sources"
      },
      {
        "name": "transformation",
        "type": "process",
        "attributes": []
      },
      {
        "name": "cleanData",
        "type": "task",
        "attributes": [
          {
            "name": "operations",
            "value": [
              "remove_nulls",
              "trim_strings",
              "deduplicate"
            ]
          }
        ],
        "parent": "transformation",
        "title": "Clean data"
      },
      {
        "name": "normalizeData",
        "type": "task",
        "attributes": [
          {
            "name": "format",
            "value": "standard"
          },
          {
            "name": "schema",
            "value": "#targetSchema"
          }
        ],
        "parent": "transformation",
        "title": "Normalize"
      },
      {
        "name": "enrichData",
        "type": "task",
        "attributes": [
          {
            "name": "lookupService",
            "value": "#enrichmentAPI"
          },
          {
            "name": "fields",
            "value": [
              "location",
              "category"
            ]
          }
        ],
        "parent": "transformation",
        "title": "Enrich with external data"
      },
      {
        "name": "validateData",
        "type": "task",
        "attributes": [
          {
            "name": "schema",
            "value": "#targetSchema"
          },
          {
            "name": "strict",
            "type": "boolean",
            "value": true
          }
        ],
        "parent": "transformation",
        "title": "Validate"
      },
      {
        "name": "loading",
        "type": "process",
        "attributes": []
      },
      {
        "name": "loadWarehouse",
        "type": "task",
        "attributes": [
          {
            "name": "destination",
            "value": "snowflake"
          },
          {
            "name": "table",
            "value": "processed_data"
          },
          {
            "name": "mode",
            "value": "append"
          }
        ],
        "parent": "loading",
        "annotations": [
          {
            "name": "Async"
          }
        ],
        "title": "Load to data warehouse"
      },
      {
        "name": "updateCache",
        "type": "task",
        "attributes": [
          {
            "name": "cache",
            "value": "redis"
          },
          {
            "name": "ttl",
            "type": "number",
            "value": 3600
          }
        ],
        "parent": "loading",
        "annotations": [
          {
            "name": "Async"
          }
        ],
        "title": "Update cache"
      },
      {
        "name": "notifyDownstream",
        "type": "task",
        "attributes": [
          {
            "name": "targets",
            "value": [
              "analytics",
              "reporting"
            ]
          }
        ],
        "parent": "loading",
        "annotations": [
          {
            "name": "Async"
          }
        ],
        "title": "Notify downstream systems"
      }
    ],
    "edges": [
      {
        "source": "mergeExtracts",
        "target": "cleanData",
        "arrowType": "->"
      },
      {
        "source": "validateData",
        "target": "loadWarehouse",
        "arrowType": "->"
      },
      {
        "source": "validateData",
        "target": "updateCache",
        "arrowType": "->"
      },
      {
        "source": "validateData",
        "target": "notifyDownstream",
        "arrowType": "->"
      },
      {
        "source": "extractDB",
        "target": "mergeExtracts",
        "arrowType": "->"
      },
      {
        "source": "extractAPI",
        "target": "mergeExtracts",
        "arrowType": "->"
      },
      {
        "source": "extractFiles",
        "target": "mergeExtracts",
        "arrowType": "->"
      },
      {
        "source": "cleanData",
        "target": "normalizeData",
        "arrowType": "->"
      },
      {
        "source": "normalizeData",
        "target": "enrichData",
        "arrowType": "->"
      },
      {
        "source": "enrichData",
        "target": "validateData",
        "arrowType": "->"
      }
    ],
    "notes": [],
    "inferredDependencies": []
  },
  "graphviz": "digraph {\n  // Graph attributes\n  label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"center\"><font point-size=\"12\"><b>ETL Pipeline</b></font></td></tr></table>>;\n  labelloc=\"t\";\n  fontsize=10;\n  fontname=\"Arial\";\n  compound=true;\n  rankdir=TB;\n  pad=0.25;\n  node [fontname=\"Arial\", fontsize=10];\n  edge [fontname=\"Arial\", fontsize=9];\n\n  // Node definitions with nested namespaces\n  \"config\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>config</b> <i>&lt;context&gt;</i></td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"batchSize__key\" align=\"left\" balign=\"left\">batchSize : number</td><td port=\"batchSize__value\" align=\"left\" balign=\"left\">1000</td></tr><tr><td port=\"parallelism__key\" align=\"left\" balign=\"left\">parallelism : number</td><td port=\"parallelism__value\" align=\"left\" balign=\"left\">4</td></tr></table></td></tr></table>>, shape=folder, fillcolor=\"#E8F5E9\", style=filled, color=\"#388E3C\"];\n  subgraph cluster_extraction {\n    label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"2\"><tr><td align=\"center\"><b>extraction</b> <i>&lt;process&gt;</i></td></tr></table>>;\n    labelloc=\"t\";\n    style=filled;\n    fontsize=10;\n    fillcolor=\"#FFFFFF\";\n    color=\"#999999\";\n    \"extraction__cluster_anchor\" [shape=point, width=0.01, height=0.01, label=\"\", style=invis, fixedsize=true];\n\n    \"extractDB\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>extractDB</b> <i>&lt;task&gt;</i> <i>@Async</i></td></tr><tr><td align=\"left\">Extract from Database</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"source__key\" align=\"left\" balign=\"left\">source</td><td port=\"source__value\" align=\"left\" balign=\"left\">postgresql</td></tr><tr><td port=\"query__key\" align=\"left\" balign=\"left\">query</td><td port=\"query__value\" align=\"left\" balign=\"left\">#extractQuery</td></tr></table></td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n    \"extractAPI\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>extractAPI</b> <i>&lt;task&gt;</i> <i>@Async</i></td></tr><tr><td align=\"left\">Extract from API</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"source__key\" align=\"left\" balign=\"left\">source</td><td port=\"source__value\" align=\"left\" balign=\"left\">rest-api</td></tr><tr><td port=\"endpoint__key\" align=\"left\" balign=\"left\">endpoint</td><td port=\"endpoint__value\" align=\"left\" balign=\"left\">https://api.example.com/data</td></tr></table></td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n    \"extractFiles\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>extractFiles</b> <i>&lt;task&gt;</i> <i>@Async</i></td></tr><tr><td align=\"left\">Extract from Files</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"source__key\" align=\"left\" balign=\"left\">source</td><td port=\"source__value\" align=\"left\" balign=\"left\">s3</td></tr><tr><td port=\"bucket__key\" align=\"left\" balign=\"left\">bucket</td><td port=\"bucket__value\" align=\"left\" balign=\"left\">data-lake</td></tr><tr><td port=\"pattern__key\" align=\"left\" balign=\"left\">pattern</td><td port=\"pattern__value\" align=\"left\" balign=\"left\">*.json</td></tr></table></td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n    \"mergeExtracts\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>mergeExtracts</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Merge all sources</td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n  }\n  subgraph cluster_transformation {\n    label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"2\"><tr><td align=\"center\"><b>transformation</b> <i>&lt;process&gt;</i></td></tr></table>>;\n    labelloc=\"t\";\n    style=filled;\n    fontsize=10;\n    fillcolor=\"#FFFFFF\";\n    color=\"#999999\";\n    \"transformation__cluster_anchor\" [shape=point, width=0.01, height=0.01, label=\"\", style=invis, fixedsize=true];\n\n    \"cleanData\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>cleanData</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Clean data</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"operations__key\" align=\"left\" balign=\"left\">operations</td><td port=\"operations__value\" align=\"left\" balign=\"left\">[<br align=\"left\"/>  &quot;remove_nulls&quot;,<br align=\"left\"/>  &quot;trim_strings&quot;,<br align=\"left\"/>  &quot;deduplicate&quot;<br align=\"left\"/>]</td></tr></table></td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n    \"normalizeData\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>normalizeData</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Normalize</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"format__key\" align=\"left\" balign=\"left\">format</td><td port=\"format__value\" align=\"left\" balign=\"left\">standard</td></tr><tr><td port=\"schema__key\" align=\"left\" balign=\"left\">schema</td><td port=\"schema__value\" align=\"left\" balign=\"left\">#targetSchema</td></tr></table></td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n    \"enrichData\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>enrichData</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Enrich with external data</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"lookupService__key\" align=\"left\" balign=\"left\">lookupService</td><td port=\"lookupService__value\" align=\"left\" balign=\"left\">#enrichmentAPI</td></tr><tr><td port=\"fields__key\" align=\"left\" balign=\"left\">fields</td><td port=\"fields__value\" align=\"left\" balign=\"left\">[\n  &quot;location&quot;,\n  &quot;category&quot;\n]</td></tr></table></td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n    \"validateData\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>validateData</b> <i>&lt;task&gt;</i></td></tr><tr><td align=\"left\">Validate</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"schema__key\" align=\"left\" balign=\"left\">schema</td><td port=\"schema__value\" align=\"left\" balign=\"left\">#targetSchema</td></tr><tr><td port=\"strict__key\" align=\"left\" balign=\"left\">strict : boolean</td><td port=\"strict__value\" align=\"left\" balign=\"left\">true</td></tr></table></td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n  }\n  subgraph cluster_loading {\n    label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"2\"><tr><td align=\"center\"><b>loading</b> <i>&lt;process&gt;</i></td></tr></table>>;\n    labelloc=\"t\";\n    style=filled;\n    fontsize=10;\n    fillcolor=\"#FFFFFF\";\n    color=\"#999999\";\n    \"loading__cluster_anchor\" [shape=point, width=0.01, height=0.01, label=\"\", style=invis, fixedsize=true];\n\n    \"loadWarehouse\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>loadWarehouse</b> <i>&lt;task&gt;</i> <i>@Async</i></td></tr><tr><td align=\"left\">Load to data warehouse</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"destination__key\" align=\"left\" balign=\"left\">destination</td><td port=\"destination__value\" align=\"left\" balign=\"left\">snowflake</td></tr><tr><td port=\"table__key\" align=\"left\" balign=\"left\">table</td><td port=\"table__value\" align=\"left\" balign=\"left\">processed_data</td></tr><tr><td port=\"mode__key\" align=\"left\" balign=\"left\">mode</td><td port=\"mode__value\" align=\"left\" balign=\"left\">append</td></tr></table></td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n    \"updateCache\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>updateCache</b> <i>&lt;task&gt;</i> <i>@Async</i></td></tr><tr><td align=\"left\">Update cache</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"cache__key\" align=\"left\" balign=\"left\">cache</td><td port=\"cache__value\" align=\"left\" balign=\"left\">redis</td></tr><tr><td port=\"ttl__key\" align=\"left\" balign=\"left\">ttl : number</td><td port=\"ttl__value\" align=\"left\" balign=\"left\">3600</td></tr></table></td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n    \"notifyDownstream\" [label=<<table border=\"0\" cellborder=\"0\" cellspacing=\"0\" cellpadding=\"4\"><tr><td align=\"left\"><b>notifyDownstream</b> <i>&lt;task&gt;</i> <i>@Async</i></td></tr><tr><td align=\"left\">Notify downstream systems</td></tr><tr><td><table border=\"0\" cellborder=\"1\" cellspacing=\"0\" cellpadding=\"2\" align=\"left\"><tr><td port=\"targets__key\" align=\"left\" balign=\"left\">targets</td><td port=\"targets__value\" align=\"left\" balign=\"left\">[<br align=\"left\"/>  &quot;analytics&quot;,<br align=\"left\"/>  &quot;reporting&quot;<br align=\"left\"/>]</td></tr></table></td></tr></table>>, shape=box, fillcolor=\"#E3F2FD\", style=filled, color=\"#1976D2\"];\n  }\n\n  // Edges\n  \"mergeExtracts\" -> \"cleanData\" [labelOverlay=\"75%\", labelhref=\"#srcLineTBD\"];\n  \"validateData\" -> \"loadWarehouse\" [labelOverlay=\"75%\", labelhref=\"#srcLineTBD\"];\n  \"validateData\" -> \"updateCache\" [labelOverlay=\"75%\", labelhref=\"#srcLineTBD\"];\n  \"validateData\" -> \"notifyDownstream\" [labelOverlay=\"75%\", labelhref=\"#srcLineTBD\"];\n  \"extractDB\" -> \"mergeExtracts\" [labelOverlay=\"75%\", labelhref=\"#srcLineTBD\"];\n  \"extractAPI\" -> \"mergeExtracts\" [labelOverlay=\"75%\", labelhref=\"#srcLineTBD\"];\n  \"extractFiles\" -> \"mergeExtracts\" [labelOverlay=\"75%\", labelhref=\"#srcLineTBD\"];\n  \"cleanData\" -> \"normalizeData\" [labelOverlay=\"75%\", labelhref=\"#srcLineTBD\"];\n  \"normalizeData\" -> \"enrichData\" [labelOverlay=\"75%\", labelhref=\"#srcLineTBD\"];\n  \"enrichData\" -> \"validateData\" [labelOverlay=\"75%\", labelhref=\"#srcLineTBD\"];\n}",
  "svgHash": "f2c72b6c1260c2dec9789291eecea97fe8cfeffa9a3ab8cea0b3b1c0a63b340a"
}