machine "Cost-Optimized System"

// Machine-level configuration using haiku for all tasks (unless overridden)
config {
    modelId: "claude-3-5-haiku-20241022";
    desc: "Use haiku by default for cost optimization";
};

state start;

// Uses machine-level default (haiku)
Task task1 {
    meta: true;
    prompt: "Perform a simple classification task.";
};

// Uses machine-level default (haiku)
Task task2 {
    meta: true;
    prompt: "Generate a short summary.";
};

// Override with sonnet for this specific complex task
Task complex_task {
    meta: true;
    modelId: "claude-3-5-sonnet-20241022";
    prompt: "Perform complex reasoning that requires more capable model.";
};

state complete;

// Workflow
start -> task1;
task1 -> task2;
task2 -> complex_task;
complex_task -> complete;
